<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CONTENT SECURITY POLICY -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   style-src 'self' 'unsafe-inline'; 
                   script-src 'self' 'unsafe-inline';
                   connect-src 'none';
                   media-src 'none';
                   object-src 'none';
                   frame-ancestors 'none';">
    <title>Typing Animation - Security Tips</title>
    <style>
        :root {
            --primary-color: #00ffff; /* CYAN as primary color */
            --background-dark: #1a1a1a;
            --background-gradient: linear-gradient(135deg, #1a1a1a, #2c3e50);
            --text-color: #00ffff; /* CYAN */
            --container-bg: rgba(0, 0, 0, 0.6);
            --shadow-color: rgba(0, 255, 255, 0.4); /* CYAN */
        }

        [data-theme="light"] {
            --primary-color: #0066cc;
            --background-dark: #f0f0f0;
            --background-gradient: linear-gradient(135deg, #e0e0e0, #a0c8ff);
            --text-color: #0066cc;
            --container-bg: rgba(255, 255, 255, 0.8);
            --shadow-color: rgba(0, 102, 204, 0.4);
        }

        [data-theme="green"] {
            --primary-color: #00ff88; /* GREEN instead of cyan */
            --background-dark: #000000;
            --background-gradient: linear-gradient(135deg, #000000, #003333);
            --text-color: #00ff88; /* VERDE */
            --container-bg: rgba(0, 0, 0, 0.7);
            --shadow-color: rgba(0, 255, 136, 0.4); /* VERDE */
        }

        [data-theme="orange"] {
            --primary-color: #ff7b25;
            --background-dark: #261a0a;
            --background-gradient: linear-gradient(135deg, #261a0a, #6b421e);
            --text-color: #ff7b25;
            --container-bg: rgba(38, 26, 10, 0.7);
            --shadow-color: rgba(255, 123, 37, 0.4);
        }

        body {
            background: var(--background-gradient);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            font-family: 'Courier New', Courier, monospace;
            overflow: auto;
            transition: background 0.5s ease;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-width: 600px;
        }

        .control-btn {
            background: var(--container-bg);
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Courier New', Courier, monospace;
            font-size: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 0 5px var(--shadow-color);
            white-space: nowrap;
        }

        .control-btn:hover {
            background: var(--primary-color);
            color: var(--background-dark);
        }

        .theme-selector {
            display: flex;
            gap: 6px;
            margin-left: 10px;
        }

        .theme-btn {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .theme-btn:hover {
            transform: scale(1.1);
        }

        .theme-btn.active {
            border: 2px solid gold;
            transform: scale(1.1);
        }

        .theme-cyan { background: #00ffff; }
        .theme-blue { background: #0066cc; }
        .theme-green { background: #00ff88; }
        .theme-orange { background: #ff7b25; }

        .typing-container {
            font-size: 14px; /* Reduced font size */
            color: var(--text-color);
            text-shadow: 0 0 5px var(--primary-color);
            white-space: normal;
            overflow: hidden;
            border-right: 2px solid var(--primary-color);
            width: 95%;
            min-width: 300px;
            max-width: 800px;
            padding: 15px;
            background: var(--container-bg);
            border-radius: 6px;
            box-shadow: 0 0 10px var(--shadow-color);
            word-wrap: break-word;
            animation: blink 1s step-end infinite;
            line-height: 1.3;
            transition: all 0.5s ease;
            min-height: 60px;
            display: flex;
            align-items: center;
        }

        @keyframes blink {
            50% { border-color: transparent; }
        }

        .status-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 95%;
            max-width: 800px;
            margin-top: 10px;
            gap: 8px;
        }

        .status {
            color: var(--text-color);
            font-size: 11px;
            opacity: 0.8;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Progress Bar Styles */
        .progress-container {
            width: 100%;
            height: 4px;
            background: var(--container-bg);
            border-radius: 2px;
            overflow: hidden;
            box-shadow: 0 0 3px var(--shadow-color);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-color);
            border-radius: 2px;
            transition: width 0.5s ease;
            box-shadow: 0 0 5px var(--shadow-color);
            position: relative;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(
                -45deg,
                rgba(255, 255, 255, 0.2) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0.2) 75%,
                transparent 75%,
                transparent
            );
            background-size: 15px 15px;
            animation: move 1s linear infinite;
        }

        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 15px 0; }
        }

        /* Visual Effects */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--primary-color);
            border-radius: 50%;
            opacity: 0;
            animation: float 10s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Text completion effect */
        .text-complete {
            animation: completeGlow 0.5s ease;
        }

        @keyframes completeGlow {
            0% { 
                text-shadow: 0 0 5px var(--primary-color); 
            }
            50% { 
                text-shadow: 0 0 10px var(--primary-color), 
                           0 0 15px var(--primary-color); 
            }
            100% { 
                text-shadow: 0 0 5px var(--primary-color); 
            }
        }

        /* Media query for mobile devices */
        @media (max-width: 768px) {
            body {
                padding: 8px;
            }
            
            .typing-container {
                font-size: 12px;
                padding: 12px;
                width: 92%;
                min-width: 250px;
                min-height: 50px;
            }
            
            .controls {
                gap: 8px;
                margin-bottom: 12px;
            }
            
            .control-btn {
                padding: 5px 10px;
                font-size: 11px;
            }
            
            .theme-btn {
                width: 18px;
                height: 18px;
            }
            
            .status {
                font-size: 10px;
                gap: 8px;
            }
            
            .progress-container {
                height: 3px;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .controls {
                flex-direction: column;
                gap: 6px;
            }
            
            .theme-selector {
                margin-left: 0;
                margin-top: 5px;
            }
            
            .typing-container {
                font-size: 11px;
                padding: 10px;
                min-height: 45px;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Particles container for background effect -->
    <div class="particles" id="particles"></div>
    
    <div class="controls">
        <div class="controls-group">
            <button class="control-btn" id="pause-btn">Pause</button>
            <button class="control-btn" id="resume-btn" style="display:none;">Resume</button>
            <button class="control-btn" id="skip-btn">Skip</button>
            <button class="control-btn" id="sound-btn">Sound: On</button>
        </div>
        
        <div class="theme-selector">
            <div class="theme-btn theme-cyan active" data-theme="dark"></div>
            <div class="theme-btn theme-blue" data-theme="light"></div>
            <div class="theme-btn theme-green" data-theme="green"></div>
            <div class="theme-btn theme-orange" data-theme="orange"></div>
        </div>
    </div>
    
    <div class="typing-container" id="typing-text"></div>
    
    <div class="status-container">
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="status" id="status">
            <span id="phrase-counter">Playing: 1/204</span>
            <span id="timer">Time: 0:00</span>
        </div>
    </div>

    <script>
        // Text phrases array - 204 COMPLETE sentences
        const texts = [
            "Forgot your password? Better be unique!",
            "Esqueceu a senha? Melhor que seja única!",
            "120-character strong password + 2FA: secure protection that defeats any hacker's evil spell!",
            "Senha segura com 120 caracteres + 2FA: proteção segura que vence o feitiço maligno de qualquer hacker!",
            "2FA: One key alone won't lock the vault!",
            "2FA: Porque uma chave só não tranca o cofre!",
            "Clean code, strong password, safe life!",
            "Código limpo, senha forte, vida segura!",
            "Coding is art, but weak passwords are a trap!",
            "Programar é arte, mas senha fraca é cilada!",
            "Two-step authentication: dance with security!",
            "Autenticação em dois passos: dance com segurança!",
            "Short passwords? Hackers love shortcuts!",
            "Senhas curtas? Hackers adoram atalhos!",
            "Why 2FA? Trust is good, but verifying is better!",
            "Por que 2FA? Porque confiança é bom, mas verificar é melhor!",
            "Debugged the code, but your password's still '1234'?",
            "Debuguei o código, mas sua senha ainda é '1234'?",
            "Smart coders use 2FA and strong coffee!",
            "Programador esperto usa 2FA e café forte!",
            "Secure passwords: the firewall of your digital life!",
            "Senhas seguras: o firewall da sua vida digital!",
            "while(weakPassword) { risk += 1; } Use 2FA!",
            "while(senhaFraca) { risco += 1; } Use 2FA!",
            "Cryptography is poetry hackers can't read!",
            "Criptografia é poesia que hackers não entendem!",
            "2FA: The superpower against digital invaders!",
            "2FA: O superpoder contra invasores digitais!",
            "Passwords are like coffee: strong and unique!",
            "Senha é como café: precisa ser forte e única!",
            "Coding is easy, securing your account is the challenge!",
            "Programar é fácil, proteger sua conta é o desafio!",
            "Hackers hate 2FA more than bugs in code!",
            "Hackers odeiam 2FA mais que bugs no código!",
            "Your password is 'admin'? Seriously, let's talk!",
            "Sua senha é 'admin'? Sério, vamos conversar!",
            "2FA: Because solo passwords are so 1999!",
            "2FA: Porque senhas sozinhas são de 1999!",
            "try { strongPassword } catch(hack) { use 2FA! }",
            "try { senhaForte } catch(hack) { use 2FA! }",
            "Secure passwords: the commit that saves your life!",
            "Senhas seguras: o commit que salva sua vida!",
            "2FA on? Now your code and soul are protected!",
            "2FA ligado? Agora sim, código e alma protegidos!",
            "Weak passwords are like bugs: everyone sees them but you!",
            "Senha fraca é como bug: todo mundo vê, menos você!",
            "Strong authentication: the merge that never fails!",
            "Autenticação forte: o merge que nunca falha!",
            "Hackers try, but 2FA says 'Access denied!'",
            "Hackers tentam, mas 2FA diz 'Acesso negado!'",
            "Code with passion, protect with 2FA!",
            "Programe com paixão, proteja com 2FA!",
            "Long passwords: the regex hackers can't match!",
            "Senhas longas: a regex que hackers não passam!",
            "2FA is the patch for your digital security!",
            "2FA é o patch para sua segurança digital!",
            "Code runs smoothly, but is your password secure?",
            "Código roda liso, mas sua senha é segura?",
            "No 2FA, your account is an open pull request!",
            "Sem 2FA, sua conta é um pull request aberto!",
            "Strong password + 2FA = Hackers in 404 mode!",
            "Senha forte + 2FA = Hackers no modo 404!",
            "Write epic code, but protect it with 2FA!",
            "Escreva código épico, mas proteja com 2FA!",
            "Guard your data with a cyborg's iron fist!",
            "Proteja seus dados com o punho de ferro de um ciborgue!",
            "2FA: The quantum shield of your online fortress!",
            "2FA: O escudo quântico da sua fortaleza online!",
            "My password's a time-traveling enigma!",
            "Minha senha é um enigma que viaja no tempo!",
            "Secure code beats a hacker's evil spell!",
            "Código seguro vence o feitiço maligno de um hacker!",
            "2FA: Your digital spaceship's hyperdrive!",
            "2FA: O hiperpropulsor da sua nave digital!",
            "Weak logins invite alien invasions!",
            "Logins fracos convidam invasões alienígenas!",
            "Encrypt like a ninja, lock with 2FA!",
            "Cripte como um ninja, trave com 2FA!",
            "My password's a treasure map for cyber pirates!",
            "Minha senha é um mapa do tesouro para piratas cibernéticos!",
            "2FA turns hacks into sci-fi movie flops!",
            "2FA transforma hacks em fracassos de filmes de ficção científica!",
            "Code strong, or face the robot uprising!",
            "Programe forte, ou enfrente a revolta dos robôs!",
            "2FA: The lightsaber of your data defense!",
            "2FA: O sabre de luz da defesa dos seus dados!",
            "Hackers flee from my password's black hole!",
            "Hackers fogem do buraco negro da minha senha!",
            "Secure your stack with a wizard's ward!",
            "Proteja sua pilha com a proteção de um mago!",
            "2FA: The sonic boom of cybersecurity!",
            "2FA: O estouro sônico da cibersegurança!",
            "My login's a riddle from a lost galaxy!",
            "Meu login é um enigma de uma galáxia perdida!",
            "Code safe, or summon the digital dragons!",
            "Programe seguro, ou conjure os dragões digitais!",
            "2FA locks your account like a time vault!",
            "2FA tranca sua conta como um cofre do tempo!",
            "Weak passwords fuel the hacker's mothership!",
            "Senhas fracas alimentam a nave-mãe dos hackers!",
            "2FA: Your cyber armor against dark forces!",
            "2FA: Sua armadura cibernética contra forças sombrias!",
            "My password's a symphony hackers can't play!",
            "Minha senha é uma sinfonia que hackers não conseguem tocar!",
            "Secure code is my galactic peace treaty!",
            "Código seguro é meu tratado de paz galáctico!",
            "My 2FA is a holographic decoy for hackers!",
            "Meu 2FA é um truque holográfico para hackers!",
            "2FA: The ultimate shield of your cyber castle!",
            "2FA: O escudo supremo do seu castelo cibernético!",
            "Password strength rivals a superhero's origin!",
            "A força da senha rivaliza com a origem de um super-herói!",
            "Encrypt with a Jedi master's power, use 2FA!",
            "Cripte com o poder de um mestre jedi, use 2FA!",
            "Hackers crash against my 2FA firewall!",
            "Hackers se chocam contra meu firewall 2FA!",
            "2FA: The turbo boost of your digital shield!",
            "2FA: O turbo da sua proteção digital!",
            "My code's a fortress, 2FA is the moat!",
            "Meu código é uma fortaleza, 2FA é o fosso!",
            "Code with glory, lock with 2FA!",
            "Programe com glória, trave com 2FA!",
            "Weak passwords summon a digital storm!",
            "Senhas fracas convocam uma tempestade digital!",
            "2FA: Your shield against the dark web's claws!",
            "2FA: Seu escudo contra as garras da dark web!",
            "Strong passwords keep hackers stuck in a loop!",
            "Senhas fortes mantêm hackers presos em um loop!",
            "Code secure, live without digital fear!",
            "Programe seguro, viva sem medo digital!",
            "My password's a labyrinth hackers can't solve!",
            "Minha senha é um labirinto que hackers não resolvem!",
            "2FA: The gatekeeper of your cyber kingdom!",
            "2FA: O guardião do seu reino cibernético!",
            "Weak passwords? A hacker's open invitation!",
            "Senhas fracas? Um convite aberto para hackers!",
            "Lock your data with 2FA's cosmic key!",
            "Tranque seus dados com a chave cósmica do 2FA!",
            "My login's a puzzle from a distant star!",
            "Meu login é um quebra-cabeça de uma estrela distante!",
            "2FA: The force field around your digital soul!",
            "2FA: O campo de força ao redor da sua alma digital!",
            "Hackers stumble on my password's quantum code!",
            "Hackers tropeçam no código quântico da minha senha!",
            "Secure your bits with a dragon's fiery lock!",
            "Proteja seus bits com o cadeado ardente de um dragão!",
            "2FA: The kryptonite to hacker dreams!",
            "2FA: A criptonita dos sonhos dos hackers!",
            "Code like a hero, secure like a vault!",
            "Programe como herói, proteja como cofre!",
            "Weak passwords are a hacker's playground!",
            "Senhas fracas são o parquinho dos hackers!",
            "2FA: The guardian angel of your online world!",
            "2FA: O anjo guardião do seu mundo online!",
            "My password's a fortress in a digital storm!",
            "Minha senha é uma fortaleza em uma tempestade digital!",
            "Encrypt tight, sleep safe at night!",
            "Cripte bem, durma seguro à noite!",
            "2FA: The spell that keeps hackers at bay!",
            "2FA: O feitiço que mantém hackers afastados!",
            "Hackers can't crack my 2FA force field!",
            "Hackers não quebram meu campo de força 2FA!",
            "Strong passwords: the code to digital peace!",
            "Senhas fortes: o código para a paz digital!",
            "2FA: Your account's invisible cloak!",
            "2FA: A capa invisível da sua conta!",
            "My login's a riddle wrapped in a mystery!",
            "Meu login é um enigma envolto em mistério!",
            "Code with might, secure with 2FA's light!",
            "Programe com força, proteja com a luz do 2FA!",
            "Weak passwords spark a hacker's delight!",
            "Senhas fracas acendem a alegria dos hackers!",
            "2FA: The lock that stops the digital clock!",
            "2FA: A tranca que para o relógio digital!",
            "My password's a supernova hackers can't touch!",
            "Minha senha é uma supernova que hackers não tocam!",
            "Secure your code, or face the hacker's probe!",
            "Programe seguro, ou enfrente a sonda do hacker!",
            "2FA: The ultimate code for your data's abode!",
            "2FA: O código definitivo para a morada dos seus dados!",
            "Hackers can't dance to my password's trance!",
            "Hackers não dançam ao transe da minha senha!",
            "Lock your account with 2FA's cosmic vault!",
            "Tranque sua conta com o cofre cósmico do 2FA!",
            "Update passwords like you update code - regularly!",
            "Atualize senhas como atualiza código - regularmente!",
            "Password reuse is like using the same key for everything!",
            "Reutilizar senha é como usar a mesma chave para tudo!",
            "Security isn't a feature, it's a foundation!",
            "Segurança não é um recurso, é uma fundação!",
            "Your password should be like good code - hard to break!",
            "Sua senha deve ser como bom código - difícil de quebrar!",
            "2FA: The second lock on your digital door!",
            "2FA: A segunda fechadura na sua porta digital!",
            "Strong authentication is the first line of defense!",
            "Autenticação forte é a primeira linha de defesa!",
            "Biometrics + 2FA = Your digital DNA protection!",
            "Biometria + 2FA = Sua proteção de DNA digital!",
            "Password manager: your vault for digital keys!",
            "Gerenciador de senhas: seu cofre para chaves digitais!",
            "Security breaches start with weak authentication!",
            "Violações de segurança começam com autenticação fraca!",
            "Your account security is your digital signature!",
            "A segurança da sua conta é sua assinatura digital!"
        ];

        // State variables
        let currentTextIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let isPaused = false;
        let soundEnabled = true;
        let timeoutId = null;
        let startTime = null;
        let timerInterval = null;
        
        // Constants
        const typingSpeed = 100;
        const deletingSpeed = 50;
        const delayBetweenTexts = 2000;

        // DOM elements
        const textElement = document.getElementById('typing-text');
        const pauseBtn = document.getElementById('pause-btn');
        const resumeBtn = document.getElementById('resume-btn');
        const skipBtn = document.getElementById('skip-btn');
        const soundBtn = document.getElementById('sound-btn');
        const phraseCounterElement = document.getElementById('phrase-counter');
        const timerElement = document.getElementById('timer');
        const progressBarElement = document.getElementById('progress-bar');
        const particlesContainer = document.getElementById('particles');
        const themeButtons = document.querySelectorAll('.theme-btn');

        // Keyboard sound system
        class KeyboardSound {
            constructor() {
                this.sounds = [];
                this.loadSounds();
            }

            // Load keyboard sounds
            loadSounds() {
                // Create realistic mechanical keyboard sounds using Web Audio API
                for (let i = 0; i < 4; i++) {
                    this.sounds.push(this.createKeySound(i));
                }
            }

            // Create individual key sound
            createKeySound(variant) {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    // Different frequencies for different key types
                    const baseFreq = 60 + (variant * 15);
                    
                    oscillator.type = 'square';
                    oscillator.frequency.setValueAtTime(baseFreq, audioContext.currentTime);
                    
                    // Realistic envelope for mechanical keyboard
                    gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                    gainNode.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + 0.002);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.08);
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    return { oscillator, gainNode, context: audioContext, variant };
                } catch (e) {
                    console.log('Web Audio API not supported, using fallback');
                    return null;
                }
            }

            // Play random key sound
            playRandomKeySound() {
                if (!soundEnabled) return;
                
                const sound = this.sounds[Math.floor(Math.random() * this.sounds.length)];
                if (!sound) return;

                try {
                    const now = sound.context.currentTime;
                    
                    // Stop any existing sound
                    sound.oscillator.stop();
                    
                    // Recreate oscillator for new sound
                    const newOscillator = sound.context.createOscillator();
                    const newGainNode = sound.context.createGain();
                    
                    const baseFreq = 60 + (sound.variant * 15);
                    const randomVariance = (Math.random() - 0.5) * 20;
                    
                    newOscillator.type = 'square';
                    newOscillator.frequency.setValueAtTime(baseFreq + randomVariance, now);
                    
                    // Mechanical keyboard envelope
                    newGainNode.gain.setValueAtTime(0, now);
                    newGainNode.gain.linearRampToValueAtTime(0.12, now + 0.001);
                    newGainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.06 + (Math.random() * 0.03));
                    
                    newOscillator.connect(newGainNode);
                    newGainNode.connect(sound.context.destination);
                    
                    newOscillator.start();
                    newOscillator.stop(now + 0.1);
                    
                    // Update reference
                    sound.oscillator = newOscillator;
                    sound.gainNode = newGainNode;
                    
                } catch (e) {
                    // Silent fail if audio context is not available
                }
            }

            // Play spacebar sound (deeper)
            playSpaceSound() {
                if (!soundEnabled) return;
                
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.type = 'sawtooth';
                    oscillator.frequency.setValueAtTime(45, audioContext.currentTime);
                    
                    gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                    gainNode.gain.linearRampToValueAtTime(0.2, audioContext.currentTime + 0.003);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.12);
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.15);
                } catch (e) {
                    // Silent fail
                }
            }
        }

        // Initialize keyboard sound system
        const keyboardSound = new KeyboardSound();
		
		// === ENTRANCE SANITATION ===
		function sanitizeUserInput(input) {
			if (typeof input !== 'string') return '';
			return input
				.replace(/</g, '&lt;')
				.replace(/>/g, '&gt;')
				.replace(/"/g, '&quot;')
				.replace(/'/g, '&#x27;')
				.replace(/\//g, '&#x2F;')
				.replace(/\\/g, '&#x5C;')
				.replace(/`/g, '&#96;');
		}

        // Create background particles
        function createParticles() {
            const particlesCount = 20;
            
            for (let i = 0; i < particlesCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random position and animation delay
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDelay = `${Math.random() * 10}s`;
                particle.style.animationDuration = `${10 + Math.random() * 10}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentTextIndex + 1) / texts.length) * 100;
            progressBarElement.style.width = `${progress}%`;
        }

        // Update timer display
        function updateTimer() {
            if (!startTime) return;
            
            const elapsedSeconds = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsedSeconds / 60);
            const seconds = elapsedSeconds % 60;
            
            timerElement.textContent = `Time: ${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // Start timer
        function startTimer() {
            if (!startTime) {
                startTime = Date.now();
                timerInterval = setInterval(updateTimer, 1000);
            }
        }

        // Update status display
        function updateStatus() {
            phraseCounterElement.textContent = `${isPaused ? 'Paused' : 'Playing'}: ${currentTextIndex + 1}/${texts.length}`;
            updateProgressBar();
        }

        // Type animation function
        function type() {
            if (isPaused) return;
            
            const currentText = texts[currentTextIndex];

            if (isDeleting) {
                // Deleting text
                textElement.textContent = currentText.substring(0, charIndex--);
                if (charIndex < 0) {
                    isDeleting = false;
                    currentTextIndex = (currentTextIndex + 1) % texts.length;
                    timeoutId = setTimeout(type, 500);
                    updateStatus();
                    return;
                }
                // Play backspace sound
                if (soundEnabled && Math.random() > 0.3) {
                    setTimeout(() => keyboardSound.playRandomKeySound(), 10);
                }
                timeoutId = setTimeout(type, deletingSpeed);
            } else {
                // Typing text
                textElement.textContent = currentText.substring(0, charIndex++);
                if (charIndex > currentText.length) {
                    // Text completed - add visual effect
                    textElement.classList.add('text-complete');
                    setTimeout(() => {
                        textElement.classList.remove('text-complete');
                    }, 500);
                    
                    isDeleting = true;
                    timeoutId = setTimeout(type, delayBetweenTexts);
                    return;
                }
                // Play typing sound with realistic timing
                if (soundEnabled) {
                    const currentChar = currentText.charAt(charIndex - 1);
                    if (currentChar === ' ') {
                        // Spacebar - deeper sound
                        setTimeout(() => keyboardSound.playSpaceSound(), 15);
                    } else {
                        // Regular keys
                        setTimeout(() => keyboardSound.playRandomKeySound(), 10 + Math.random() * 20);
                    }
                }
                timeoutId = setTimeout(type, typingSpeed);
            }
        }

        // Pause animation
        function pauseAnimation() {
            isPaused = true;
            if (timeoutId) {
                clearTimeout(timeoutId);
            }
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            pauseBtn.style.display = 'none';
            resumeBtn.style.display = 'inline-block';
            updateStatus();
        }

        // Resume animation
        function resumeAnimation() {
            isPaused = false;
            pauseBtn.style.display = 'inline-block';
            resumeBtn.style.display = 'none';
            startTimer();
            updateStatus();
            type();
        }

        // Skip to next phrase
        function skipAnimation() {
            if (timeoutId) {
                clearTimeout(timeoutId);
            }
            isDeleting = false;
            currentTextIndex = (currentTextIndex + 1) % texts.length;
            charIndex = 0;
            updateStatus();
            type();
        }

        // Toggle sound on/off
        function toggleSound() {
            soundEnabled = !soundEnabled;
            soundBtn.textContent = `Sound: ${soundEnabled ? 'On' : 'Off'}`;
        }

        // Change theme
        function changeTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            
            // Update active theme button
            themeButtons.forEach(btn => {
                if (btn.getAttribute('data-theme') === theme) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // Initialize the application
        function init() {
            createParticles();
            updateStatus();
            startTimer();
            setTimeout(type, 1000);
        }

        // Event listeners
        document.addEventListener("DOMContentLoaded", init);

        pauseBtn.addEventListener('click', pauseAnimation);
        resumeBtn.addEventListener('click', resumeAnimation);
        skipBtn.addEventListener('click', skipAnimation);
        soundBtn.addEventListener('click', toggleSound);

        themeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                changeTheme(btn.getAttribute('data-theme'));
            });
        });
    </script>
</body>
</html>
